<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Billing System{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/index.css' %}" />
    <link rel="stylesheet" href="{% static 'css/form.css' %}" />
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <div class="d-flex align-items-center gap-2">
          <a
            class="navbar-brand d-flex align-items-center"
            href="{% url 'list_orders' %}"
          >
            <span class="brand-text me-2 fw-bold">Billing System</span>
            <img
              src="{% static 'images/icons8-school-48.png' %}"
              alt="School Logo"
              class="brand-logo"
            />
          </a>
          <button
            class="sidebar-toggle-btn"
            id="sidebarToggle"
            type="button"
            aria-label="Toggle sidebar"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>

      </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar-menu" id="sidebarMenu">
      <a href="{% url 'index' %}">Dashboard</a>

      <!-- Customers Collapsible -->
      <a
        href="#profilesSubmenu"
        data-bs-toggle="collapse"
        aria-expanded="true"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarProfileDropdown"
      >
        Customers
      </a>
      <ul class="collapse list-unstyled ps-3" id="profilesSubmenu">
        <li>
          <a class="dropdown-item" href="{% url 'create_customer' %}">Add Customer</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'list_customer' %}">List Customers</a>
        </li>
      </ul>

      <!-- Orders Collapsible -->
      <a
        href="#ordersSubmenu"
        data-bs-toggle="collapse"
        aria-expanded="true"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarOrdersDropdown"
      >
        Orders
      </a>
      <ul class="collapse list-unstyled ps-3" id="ordersSubmenu">
        <li>
          <a class="dropdown-item" href="{% url 'create_orders' %}">Add Order</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'list_orders' %}">List Orders</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'list_events' %}">Events</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'menu_list' %}">Menus</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'quote_list' %}">Quotes</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'payment_entry_select' %}">Payment Entry</a>
        </li>
      </ul>

      <!-- Inventory Collapsible -->
      <a
        href="#inventorySubmenu"
        data-bs-toggle="collapse"
        aria-expanded="false"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarInventoryDropdown"
      >
        Inventory
      </a>
      <ul class="collapse list-unstyled ps-3" id="inventorySubmenu">
        <a
          href="#stockSubmenu"
          data-bs-toggle="collapse"
          aria-expanded="false"
          class="dropdown-toggle text-white d-block px-3 py-2"
          id="sidebarStockDropdown"
        >
          Stock
        </a>
        <ul class="collapse list-unstyled ps-3" id="stockSubmenu">
          <li>
            <a class="dropdown-item" href="{% url 'add_stock' %}">Add Stock</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'list_stock' %}">List Stock</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'live_stock' %}">Live Stock</a>
          </li>
        </ul>

        <!-- Inventory Items Nested Dropdown -->
        <a
          href="#inventoryItemsSubmenu"
          data-bs-toggle="collapse"
          aria-expanded="false"
          class="dropdown-toggle text-white d-block px-3 py-2"
          id="sidebarInventoryItemsDropdown"
        >
          Inventory Items
        </a>
        <ul class="collapse list-unstyled ps-3" id="inventoryItemsSubmenu">
          <li>
            <a class="dropdown-item" href="{% url 'add_inventory' %}">Add Inventory</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'list_inventory' %}">List Inventory</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'baseitem_list' %}">Base Items</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'uom_list' %}">Units</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'inventory_category_list' %}">Categories</a>
          </li>
        </ul>
      </ul>

      <!-- Reports -->
      <a
        href="#reportsSubmenu"
        data-bs-toggle="collapse"
        aria-expanded="false"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarReportsDropdown"
      >
        Reports
      </a>
      <ul class="collapse list-unstyled ps-3" id="reportsSubmenu">
        <li>
          <a class="dropdown-item" href="{% url 'stock_purchase_report' %}">Stock Purchase Report</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'stock_usage_report' %}">Stock Usage Report</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'revenue_report' %}">Revenue Report</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'expense_report' %}">Expense Report</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'profit_loss_report' %}">Profit &amp; Loss</a>
        </li>
      </ul>

      <!-- Expenses -->
      <a
        href="#expensesSubmenu"
        data-bs-toggle="collapse"
        aria-expanded="false"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarExpensesDropdown"
      >
        Expenses
      </a>
      <ul class="collapse list-unstyled ps-3" id="expensesSubmenu">
        <li>
          <a class="dropdown-item" href="{% url 'expense_list' %}">List Expenses</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'expense_create' %}">Add Expense</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'expense_report' %}">Expense Report</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'expense_category_list' %}">Expense Categories</a>
        </li>
      </ul>

      <!-- Suppliers Collapsible -->
      <a
        href="#suppliersSubmenu"
        data-bs-toggle="collapse"
        aria-expanded="true"
        class="dropdown-toggle text-white d-block px-3 py-2"
        id="sidebarSuppliersDropdown"
      >
        Suppliers
      </a>
      <ul class="collapse list-unstyled ps-3" id="suppliersSubmenu">
        <li>
          <a class="dropdown-item" href="{% url 'suppliers:supplier_list' %}">List Suppliers</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'suppliers:supplier_create' %}">Add Supplier</a>
        </li>
        <li>
          <a class="dropdown-item" href="{% url 'suppliers:purchase_order_list' %}">Purchase Orders</a>
        </li>
      </ul>

      <!-- Logout -->
      <a href="#" class="px-3 py-2 d-block">Logout</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="container mt-5 pt-4">{% block content %}{% endblock %}</div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleBtn = document.getElementById("sidebarToggle");
        if (!toggleBtn) return;
        toggleBtn.addEventListener("click", function () {
          document.body.classList.toggle("sidebar-collapsed");
        });
      });
    </script>

    {% block extra_scripts %}{% endblock %}
  </body>
</html>
