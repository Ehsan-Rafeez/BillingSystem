{% extends 'base.html' %}
{% block title %}Create Customer - Billing Management Software{% endblock %}
{% block content %} 
{% if messages %}
  <div>
    {% for message in messages %}
      <div class="alert 
        {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %} 
        alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}
<h3>{{ form.instance.pk|yesno:"Edit Customer,Create Customer" }}</h3>
<form method="POST" action="{% if form.instance.pk %}{% url 'edit_customer' form.instance.pk %}
                       {% else %}{% url 'create_customer' %}{% endif %}" enctype="multipart/form-data" style="max-width: 700px; margin-left: 0; margin-top: 50px; background: transparent; padding: 0;">
    {% csrf_token %}

    <!-- User Form-->
    <div class="row mb-3">
        <div class="col-md-6">
            <label for="FullName" class="form-label fw-bold">First Name</label>
            <input type="text" value="{{ form.name.value|default_if_none:'' }}" class="form-control" id="name" name="name" placeholder="Enter first name" style="background: transparent;"  value="{{ request.POST.fullname|default_if_none:'' }}" />
            {% if form.errors.name %}
                <div class="text-danger">{{ form.errors.name.0 }}</div>
            {% endif %}
        </div>
        <div class="col-md-6">
            <label for="customerType" class="form-label fw-bold">Customer Type</label>
            <select class="form-select" id="customer_type" name="customer_type" style="background: transparent;" required>
                <option value="">Select Customer Type</option>
                <option value="IND">Individual</option>
                <option value="Company">Company</option>
            </select>
        </div>
    </div>

    <!-- Row 2: Age & Class -->
    <div class="row mb-3">
        <div class="col-md-6">
            <label for="phone" class="form-label fw-bold">Phone Number</label>
            <input type="tel" class="form-control" id="phone" value="{{ form.phone.value|default_if_none:'' }}" name="phone" placeholder="Enter phone number" style="background: transparent;" required />
            {% if form.errors.phone %}
                <div class="text-danger">{{ form.errors.phone.0 }}</div>
            {% endif %}
        </div>
        <div class="col-md-6">
            <label for="email" class="form-label fw-bold">Email</label>
            <input type="email" class="form-control" id="email" value="{{ form.email.value|default_if_none:''}}" name="email" placeholder="Enter email" style="background: transparent;" required />
            {% if form.errors.email %}
                <div class="text-danger">{{ form.errors.email.0 }}</div>
            {% endif %}
        </div>
    </div>

    <!-- Department -->
    <div class="mb-3">
        <label for="address" class="form-label fw-bold">Address (Line 2)</label>
        <input type="text" class="form-control" id="address" value="{{ form.address.value|default_if_none:'' }}" name="address" placeholder="Enter additional address info" style="background: transparent;" />
        {% if form.errors.address %}
            <div class="text-danger">{{ form.errors.address.0 }}</div>
        {% endif %}
    </div>

    <!-- Import / File Upload -->
    <!-- <div class="mb-3">
        <label for="importFile" class="form-label fw-bold">Import File</label>
        <input type="file" class="form-control" id="importFile" name="importFile" style="background: transparent;" accept="image/*" />
    </div> -->

    <!-- Date of Birth -->
    <!-- <div class="mb-3">
        <label for="dob" class="form-label fw-bold">Date of Birth</label>
        <input type="date" class="form-control" id="dob" name="dob" style="background: transparent;" required />
    </div> -->

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary" style="width: auto;">{{ form.instance.pk|yesno:"Update,Create" }}</button>
</form>


{% endblock %}